# fastapi-traceable-logs
FastAPI 서버에서 디버그용(데코레이터)과 정보용(미들웨어) 로그를 분리 운영하던 중, 비동기 환경에서 동시성 요청이 몰릴 때 **로그가 뒤섞여 특정 요청의 전체 흐름을 추적할 수 없는 문제**를 겪었습니다.

이로 인해 장애가 발생했을 때 원인 분석과 **디버깅에 상당한 시간이 소요**되는 비효율을 겪어야 했습니다.

이 문제를 해결하고자 미들웨어에서 생성한 `request_id`를 `contextvars`를 통해 모든 로그에 일관되게 주입하는 방법을 적용했고, **파편화된 로그를 하나의 맥락으로 묶어 디버깅 생산성을 높였던** **경험**을 공유하고자 합니다.
